{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport 'isomorphic-fetch';\nimport React, { useState } from 'react';\nimport Error from './_error';\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport PodcastListWithClick from '../components/PodcastListWithClick';\nimport PodcastPlayer from '../components/PodcastPlayer';\n\nconst Channel = props => {\n  const {\n    channel,\n    audioClips,\n    series,\n    statusCode\n  } = props;\n  const {\n    0: podcast,\n    1: setPodcast\n  } = useState(null);\n\n  const openPodcast = (event, podcast) => {\n    event.preventDefault();\n    setPodcast(podcast);\n  };\n\n  const closePodcast = event => {\n    event.preventDefault();\n    setPodcast(null);\n  };\n\n  if (statusCode !== 200) {\n    return __jsx(Error, {\n      statusCode: statusCode\n    });\n  }\n\n  return __jsx(Layout, {\n    title: channel.title\n  }, __jsx(\"div\", {\n    style: {\n      backgroundImage: `url(${channel.urls.banner_image.original})`\n    },\n    className: \"jsx-678019143\" + \" \" + \"banner\"\n  }), podcast && __jsx(\"div\", {\n    className: \"jsx-678019143\" + \" \" + \"modal\"\n  }, __jsx(PodcastPlayer, {\n    clip: podcast,\n    onClose: closePodcast\n  })), __jsx(\"h1\", {\n    className: \"jsx-678019143\"\n  }, channel.title), series.length > 0 && __jsx(\"div\", {\n    className: \"jsx-678019143\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-678019143\"\n  }, \"Series\"), __jsx(ChannelGrid, {\n    channels: series\n  })), __jsx(\"h2\", {\n    className: \"jsx-678019143\"\n  }, \"Ultimos Podcasts\"), __jsx(PodcastListWithClick, {\n    onClickPodcast: openPodcast,\n    podcasts: audioClips\n  }), __jsx(_JSXStyle, {\n    id: \"678019143\"\n  }, \".banner.jsx-678019143{width:100%;padding-bottom:25%;background-position:50% 50%;background-size:cover;background-color:#aaa;}h1.jsx-678019143{font-weight:600;padding:15px;}h2.jsx-678019143{padding:15px;font-size:1.2em;font-weight:600;margin:0;}.modal.jsx-678019143{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99999;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FuZHJlcy9Qcm9qZWN0cy9wb2RjYXN0cy1uZXh0anMvcGFnZXMvY2hhbm5lbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5RGtCLEFBR3NCLEFBT0ssQUFJSCxBQU9FLFdBakJJLEVBV0gsRUFPVixDQVhPLEtBWU4sT0FDQyxDQVpWLEFBSWtCLENBWFksTUFvQm5CLFNBUkEsQUFTSyxTQVJoQixJQVp3QixDQXFCeEIscUJBcEJ3QixzQkFDeEIiLCJmaWxlIjoiL2hvbWUvYW5kcmVzL1Byb2plY3RzL3BvZGNhc3RzLW5leHRqcy9wYWdlcy9jaGFubmVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdpc29tb3JwaGljLWZldGNoJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEVycm9yIGZyb20gJy4vX2Vycm9yJztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IENoYW5uZWxHcmlkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2hhbm5lbEdyaWQnO1xuaW1wb3J0IFBvZGNhc3RMaXN0V2l0aENsaWNrIGZyb20gJy4uL2NvbXBvbmVudHMvUG9kY2FzdExpc3RXaXRoQ2xpY2snO1xuaW1wb3J0IFBvZGNhc3RQbGF5ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Qb2RjYXN0UGxheWVyJztcblxuY29uc3QgQ2hhbm5lbCA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGNoYW5uZWwsIGF1ZGlvQ2xpcHMsIHNlcmllcywgc3RhdHVzQ29kZSB9ID0gcHJvcHM7XG4gIGNvbnN0IFtwb2RjYXN0LCBzZXRQb2RjYXN0XSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGNvbnN0IG9wZW5Qb2RjYXN0ID0gKGV2ZW50LCBwb2RjYXN0KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRQb2RjYXN0KHBvZGNhc3QpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlUG9kY2FzdCA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0UG9kY2FzdChudWxsKTtcbiAgfTtcblxuICBpZiAoc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgcmV0dXJuIDxFcnJvciBzdGF0dXNDb2RlPXtzdGF0dXNDb2RlfSAvPjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExheW91dCB0aXRsZT17Y2hhbm5lbC50aXRsZX0+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImJhbm5lclwiXG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7Y2hhbm5lbC51cmxzLmJhbm5lcl9pbWFnZS5vcmlnaW5hbH0pYCxcbiAgICAgICAgfX1cbiAgICAgIC8+XG5cbiAgICAgIHtwb2RjYXN0ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbFwiPlxuICAgICAgICAgIDxQb2RjYXN0UGxheWVyIGNsaXA9e3BvZGNhc3R9IG9uQ2xvc2U9e2Nsb3NlUG9kY2FzdH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8aDE+e2NoYW5uZWwudGl0bGV9PC9oMT5cblxuICAgICAge3Nlcmllcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDI+U2VyaWVzPC9oMj5cbiAgICAgICAgICA8Q2hhbm5lbEdyaWQgY2hhbm5lbHM9e3Nlcmllc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8aDI+VWx0aW1vcyBQb2RjYXN0czwvaDI+XG4gICAgICA8UG9kY2FzdExpc3RXaXRoQ2xpY2tcbiAgICAgICAgb25DbGlja1BvZGNhc3Q9e29wZW5Qb2RjYXN0fVxuICAgICAgICBwb2RjYXN0cz17YXVkaW9DbGlwc31cbiAgICAgIC8+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLmJhbm5lciB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDI1JTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlO1xuICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcbiAgICAgICAgfVxuICAgICAgICBoMSB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICB9XG4gICAgICAgIGgyIHtcbiAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIH1cblxuICAgICAgICAubW9kYWwge1xuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbkNoYW5uZWwuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgKHsgcXVlcnksIHJlcyB9KSA9PiB7XG4gIGxldCBpZENoYW5uZWwgPSBxdWVyeS5pZDtcblxuICB0cnkge1xuICAgIGxldCBbcmVxQ2hhbm5lbCwgcmVxU2VyaWVzLCByZXFBdWRpb3NdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZmV0Y2goYGh0dHBzOi8vYXBpLmF1ZGlvYm9vbS5jb20vY2hhbm5lbHMvJHtpZENoYW5uZWx9YCksXG4gICAgICBmZXRjaChgaHR0cHM6Ly9hcGkuYXVkaW9ib29tLmNvbS9jaGFubmVscy8ke2lkQ2hhbm5lbH0vY2hpbGRfY2hhbm5lbHNgKSxcbiAgICAgIGZldGNoKGBodHRwczovL2FwaS5hdWRpb2Jvb20uY29tL2NoYW5uZWxzLyR7aWRDaGFubmVsfS9hdWRpb19jbGlwc2ApLFxuICAgIF0pO1xuXG4gICAgaWYgKHJlcUNoYW5uZWwuc3RhdHVzID49IDQwNCkge1xuICAgICAgcmVzLnN0YXR1c0NvZGUgPSByZXFDaGFubmVsLnN0YXR1cztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2hhbm5lbDogbnVsbCxcbiAgICAgICAgYXVkaW9DbGlwczogbnVsbCxcbiAgICAgICAgc2VyaWVzOiBudWxsLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXFDaGFubmVsLnN0YXR1cyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGRhdGFDaGFubmVsID0gYXdhaXQgcmVxQ2hhbm5lbC5qc29uKCk7XG4gICAgbGV0IGNoYW5uZWwgPSBkYXRhQ2hhbm5lbC5ib2R5LmNoYW5uZWw7XG5cbiAgICBsZXQgZGF0YUF1ZGlvcyA9IGF3YWl0IHJlcUF1ZGlvcy5qc29uKCk7XG4gICAgbGV0IGF1ZGlvQ2xpcHMgPSBkYXRhQXVkaW9zLmJvZHkuYXVkaW9fY2xpcHM7XG5cbiAgICBsZXQgZGF0YVNlcmllcyA9IGF3YWl0IHJlcVNlcmllcy5qc29uKCk7XG4gICAgbGV0IHNlcmllcyA9IGRhdGFTZXJpZXMuYm9keS5jaGFubmVscztcblxuICAgIHJldHVybiB7IGNoYW5uZWwsIGF1ZGlvQ2xpcHMsIHNlcmllcywgc3RhdHVzQ29kZTogMjAwIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgY2hhbm5lbDogbnVsbCwgYXVkaW9DbGlwczogbnVsbCwgc2VyaWVzOiBudWxsLCBzdGF0dXNDb2RlOiA1MDMgfTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhbm5lbDtcbiJdfQ== */\\n/*@ sourceURL=/home/andres/Projects/podcasts-nextjs/pages/channel.js */\"));\n};\n\nChannel.getInitialProps = async ({\n  query,\n  res\n}) => {\n  let idChannel = query.id;\n\n  try {\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([fetch(`https://api.audioboom.com/channels/${idChannel}`), fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`), fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`)]);\n\n    if (reqChannel.status >= 404) {\n      res.statusCode = reqChannel.status;\n      return {\n        channel: null,\n        audioClips: null,\n        series: null,\n        statusCode: reqChannel.status\n      };\n    }\n\n    let dataChannel = await reqChannel.json();\n    let channel = dataChannel.body.channel;\n    let dataAudios = await reqAudios.json();\n    let audioClips = dataAudios.body.audio_clips;\n    let dataSeries = await reqSeries.json();\n    let series = dataSeries.body.channels;\n    return {\n      channel,\n      audioClips,\n      series,\n      statusCode: 200\n    };\n  } catch (error) {\n    return {\n      channel: null,\n      audioClips: null,\n      series: null,\n      statusCode: 503\n    };\n  }\n};\n\nexport default Channel;","map":{"version":3,"sources":["/home/andres/Projects/podcasts-nextjs/pages/channel.js"],"names":["React","useState","Error","Layout","ChannelGrid","PodcastListWithClick","PodcastPlayer","Channel","props","channel","audioClips","series","statusCode","podcast","setPodcast","openPodcast","event","preventDefault","closePodcast","title","backgroundImage","urls","banner_image","original","length","getInitialProps","query","res","idChannel","id","reqChannel","reqSeries","reqAudios","Promise","all","fetch","status","dataChannel","json","body","dataAudios","audio_clips","dataSeries","channels","error"],"mappings":"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","sourcesContent":["import 'isomorphic-fetch';\nimport React, { useState } from 'react';\n\nimport Error from './_error';\nimport Layout from '../components/Layout';\nimport ChannelGrid from '../components/ChannelGrid';\nimport PodcastListWithClick from '../components/PodcastListWithClick';\nimport PodcastPlayer from '../components/PodcastPlayer';\n\nconst Channel = (props) => {\n  const { channel, audioClips, series, statusCode } = props;\n  const [podcast, setPodcast] = useState(null);\n\n  const openPodcast = (event, podcast) => {\n    event.preventDefault();\n    setPodcast(podcast);\n  };\n\n  const closePodcast = (event) => {\n    event.preventDefault();\n    setPodcast(null);\n  };\n\n  if (statusCode !== 200) {\n    return <Error statusCode={statusCode} />;\n  }\n\n  return (\n    <Layout title={channel.title}>\n      <div\n        className=\"banner\"\n        style={{\n          backgroundImage: `url(${channel.urls.banner_image.original})`,\n        }}\n      />\n\n      {podcast && (\n        <div className=\"modal\">\n          <PodcastPlayer clip={podcast} onClose={closePodcast} />\n        </div>\n      )}\n\n      <h1>{channel.title}</h1>\n\n      {series.length > 0 && (\n        <div>\n          <h2>Series</h2>\n          <ChannelGrid channels={series} />\n        </div>\n      )}\n\n      <h2>Ultimos Podcasts</h2>\n      <PodcastListWithClick\n        onClickPodcast={openPodcast}\n        podcasts={audioClips}\n      />\n\n      <style jsx>{`\n        .banner {\n          width: 100%;\n          padding-bottom: 25%;\n          background-position: 50% 50%;\n          background-size: cover;\n          background-color: #aaa;\n        }\n        h1 {\n          font-weight: 600;\n          padding: 15px;\n        }\n        h2 {\n          padding: 15px;\n          font-size: 1.2em;\n          font-weight: 600;\n          margin: 0;\n        }\n\n        .modal {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          z-index: 99999;\n        }\n      `}</style>\n    </Layout>\n  );\n};\n\nChannel.getInitialProps = async ({ query, res }) => {\n  let idChannel = query.id;\n\n  try {\n    let [reqChannel, reqSeries, reqAudios] = await Promise.all([\n      fetch(`https://api.audioboom.com/channels/${idChannel}`),\n      fetch(`https://api.audioboom.com/channels/${idChannel}/child_channels`),\n      fetch(`https://api.audioboom.com/channels/${idChannel}/audio_clips`),\n    ]);\n\n    if (reqChannel.status >= 404) {\n      res.statusCode = reqChannel.status;\n\n      return {\n        channel: null,\n        audioClips: null,\n        series: null,\n        statusCode: reqChannel.status,\n      };\n    }\n\n    let dataChannel = await reqChannel.json();\n    let channel = dataChannel.body.channel;\n\n    let dataAudios = await reqAudios.json();\n    let audioClips = dataAudios.body.audio_clips;\n\n    let dataSeries = await reqSeries.json();\n    let series = dataSeries.body.channels;\n\n    return { channel, audioClips, series, statusCode: 200 };\n  } catch (error) {\n    return { channel: null, audioClips: null, series: null, statusCode: 503 };\n  }\n};\n\nexport default Channel;\n"]},"metadata":{},"sourceType":"module"}